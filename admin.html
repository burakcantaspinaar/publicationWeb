<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>İsmail Kitap - Admin Panel</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="İsmail Kitap Admin Paneli - Kitap yönetimi, sipariş takibi ve işletme yönetimi">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e3a8a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="İK Admin">
    <meta name="msapplication-TileColor" content="#1e3a8a">
    <meta name="msapplication-TileImage" content="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDE0NCAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNDQiIGhlaWdodD0iMTQ0IiByeD0iMjQiIGZpbGw9IiMxZTNhOGEiLz4KPHN2ZyB4PSIzNiIgeT0iMzYiIHdpZHRoPSI3MiIgaGVpZ2h0PSI3MiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNFY4SDIwQzIxLjEgOCAyMiA4LjkgMjIgMTBWMjBDMjIgMjEuMSAyMS4xIDIyIDIwIDIySDRDMi45IDIyIDIgMjEuMSAyIDIwVjEwQzIgOC45IDIuOSA4IDQgOEgxMFY0QzEwIDIuOSAxMC45IDIgMTIgMlpNMTIgNEMxMS40IDQgMTEgNC40IDExIDVWN0gxM1Y1QzEzIDQuNCAxMi42IDQgMTIgNFpNNCA5VjIwSDIwVjlINFpNNiAxMUgxOFYxM0g2VjExWk02IDE1SDE4VjE3SDZWMTVaIi8+Cjwvc3ZnPgo8L3N2Zz4K">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="72x72" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iNzIiIHZpZXdCb3g9IjAgMCA3MiA3MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiByeD0iMTIiIGZpbGw9IiMxZTNhOGEiLz4KPHN2ZyB4PSIxNiIgeT0iMTYiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNFY4SDIwQzIxLjEgOCAyMiA4LjkgMjIgMTBWMjBDMjIgMjEuMSAyMS4xIDIyIDIwIDIySDRDMi45IDIyIDIgMjEuMSAyIDIwVjEwQzIgOC45IDIuOSA4IDQgOEgxMFY0QzEwIDIuOSAxMC45IDIgMTIgMlpNMTIgNEMxMS40IDQgMTEgNC40IDExIDVWN0gxM1Y1QzEzIDQuNCAxMi42IDQgMTIgNFpNNCA5VjIwSDIwVjlINFpNNiAxMUgxOFYxM0g2VjExWk02IDE1SDE4VjE3SDZWMTVaIi8+Cjwvc3ZnPgo8L3N2Zz4K">
    <link rel="apple-touch-icon" sizes="96x96" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9Ijk2IiBoZWlnaHQ9Ijk2IiByeD0iMTYiIGZpbGw9IiMxZTNhOGEiLz4KPHN2ZyB4PSIyNCIgeT0iMjQiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNFY4SDIwQzIxLjEgOCAyMiA4LjkgMjIgMTBWMjBDMjIgMjEuMSAyMS4xIDIyIDIwIDIySDRDMi45IDIyIDIgMjEuMSAyIDIwVjEwQzIgOC45IDIuOSA4IDQgOEgxMFY0QzEwIDIuOSAxMC45IDIgMTIgMlpNMTIgNEMxMS40IDQgMTEgNC40IDExIDVWN0gxM1Y1QzEzIDQuNCAxMi42IDQgMTIgNFpNNCA5VjIwSDIwVjlINFpNNiAxMUgxOFYxM0g2VjExWk02IDE1SDE4VjE3SDZWMTVaIi8+Cjwvc3ZnPgo8L3N2Zz4K">
    <link rel="apple-touch-icon" sizes="144x144" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDE0NCAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNDQiIGhlaWdodD0iMTQ0IiByeD0iMjQiIGZpbGw9IiMxZTNhOGEiLz4KPHN2ZyB4PSIzNiIgeT0iMzYiIHdpZHRoPSI3MiIgaGVpZ2h0PSI3MiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNFY4SDIwQzIxLjEgOCAyMiA4LjkgMjIgMTBWMjBDMjIgMjEuMSAyMS4xIDIyIDIwIDIySDRDMi45IDIyIDIgMjEuMSAyIDIwVjEwQzIgOC45IDIuOSA4IDQgOEgxMFY4QzEwIDIuOSAxMC45IDIgMTIgMlpNMTIgNEMxMS40IDQgMTEgNC40IDExIDVWN0gxM1Y1QzEzIDQuNCAxMi42IDQgMTIgNFpNNCA5VjIwSDIwVjlINFpNNiAxMUgxOFYxM0g2VjExWk02IDE1SDE4VjE3SDZWMTVaIi8+Cjwvc3ZnPgo8L3N2Zz4K">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzFlM2E4YSIvPgo8c3ZnIHg9IjQiIHk9IjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNFY4SDIwQzIxLjEgOCAyMiA4LjkgMjIgMTBWMjBDMjIgMjEuMSAyMS4xIDIyIDIwIDIySDRDMi45IDIyIDIgMjEuMSAyIDIwVjEwQzIgOC45IDIuOSA4IDQgOEgxMFY0QzEwIDIuOSAxMC45IDIgMTIgMlpNMTIgNEMxMS40IDQgMTEgNC40IDExIDVWN0gxM1Y1QzEzIDQuNCAxMi42IDQgMTIgNFpNNCA5VjIwSDIwVjlINFpNNiAxMUgxOFYxM0g2VjExWk02IDE1SDE4VjE3SDZWMTVaIi8+Cjwvc3ZnPgo8L3N2Zz4K">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Chart.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css">
    <!-- Custom Admin CSS -->
    <style>
        :root {
            --primary-navy: #1e3a8a;
            --primary-blue: #3b82f6;
            --primary-hover: #1e40af;
            --secondary-color: #64748b;
            --light-bg: #f8fafc;
            --border-gray: #e2e8f0;
            --dark-bg: #1e293b;
            --dark-card: #334155;
            --light-text: #f1f5f9;
            --danger: #dc2626;
            --success: #16a34a;
            --warning: #ca8a04;
            --info: #0284c7;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: #333;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        /* Admin Layout */
        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles - Mobile Optimized */
        .sidebar {
            width: min(320px, 85vw);
            background: linear-gradient(180deg, var(--primary-navy) 0%, #1a365d 100%);
            color: var(--light-text);
            position: fixed;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport for modern browsers */
            z-index: 999;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            transform: translateX(-100%);
            -webkit-transform: translateX(-100%);
            box-shadow: 4px 0 20px rgba(0,0,0,0.3);
        }
        
        /* Sidebar active state for mobile */
        .sidebar.active {
            transform: translateX(0);
            -webkit-transform: translateX(0);
        }
        
        /* Sidebar overlay for mobile - Enhanced */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.6);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
        }
        
        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Desktop sidebar always visible */
        @media (min-width: 992px) {
            .sidebar {
                transform: translateX(0) !important;
                -webkit-transform: translateX(0) !important;
                width: 260px;
                position: relative;
                box-shadow: none;
            }
            
            .sidebar-overlay {
                display: none !important;
            }
        }
        
        /* Mobile body scroll prevention */
        @media (max-width: 991px) {
            body.sidebar-open {
                overflow: hidden;
                position: fixed;
                width: 100%;
                height: 100%;
            }
            
            .main-content {
                margin-left: 0;
                transition: none;
            }
        }

        .sidebar::-webkit-scrollbar {
            width: 4px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
        }

        .sidebar-header {
            padding: 25px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            position: relative;
        }
        
        /* Mobile Close Button Styling */
        .btn-close-sidebar {
            background: none;
            border: none;
            color: rgba(255,255,255,0.8);
            font-size: 20px;
            padding: 8px;
            cursor: pointer;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
            z-index: 1001;
        }
        
        .btn-close-sidebar:hover {
            background: rgba(255,255,255,0.15);
            color: white;
            transform: rotate(90deg);
        }
        
        .btn-close-sidebar:active {
            transform: rotate(90deg) scale(0.9);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
        }

        .logo-circle {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #fff, #f0f0f0);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .logo-circle i {
            color: var(--primary-navy);
            font-size: 20px;
        }

        .logo-text {
            font-weight: 700;
            font-size: 18px;
            color: #fff;
            letter-spacing: -0.5px;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-section {
            margin-bottom: 25px;
        }

        .menu-title {
            padding: 0 20px 10px 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: rgba(255,255,255,0.5);
        }

        .sidebar .nav-link {
            padding: 14px 20px;
            color: rgba(255,255,255,0.8);
            display: flex;
            align-items: center;
            transition: all 0.3s;
            border-radius: 0;
            position: relative;
            font-weight: 500;
        }

        .sidebar .nav-link i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        .sidebar .nav-link:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
            transform: translateX(5px);
        }

        .sidebar .nav-item.active .nav-link {
            background: linear-gradient(90deg, var(--primary-blue), transparent);
            color: #fff;
            border-left: 4px solid #fff;
        }

        .sidebar .nav-item.active .nav-link::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--primary-blue), #2563eb);
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: 0;
            min-height: 100vh;
            min-height: calc(var(--vh, 1vh) * 100);
            transition: all 0.3s ease;
            position: relative;
        }
        
        /* Desktop main content with sidebar margin */
        @media (min-width: 992px) {
            .main-content {
                margin-left: 260px;
            }
        }

        /* Navbar Styles */
        .top-navbar {
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 0.8rem 2rem;
            border-bottom: 1px solid var(--border-gray);
        }

        .navbar-brand {
            font-weight: 600;
            color: var(--primary-navy);
        }

        .search-form {
            max-width: 400px;
            flex: 1;
        }

        .search-input {
            border-radius: 25px;
            border: 1px solid var(--border-gray);
            padding: 8px 20px 8px 45px;
            background-color: var(--light-bg);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            background-color: #fff;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary-color);
        }

        .navbar-nav .nav-link {
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.2s ease;
            position: relative;
        }

        .navbar-nav .nav-link:hover {
            background-color: var(--light-bg);
        }

        .admin-avatar {
            width: 38px;
            height: 38px;
            object-fit: cover;
            border: 2px solid var(--border-gray);
        }

        .notification-badge {
            position: absolute;
            top: 2px;
            right: 2px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Content Container */
        .content-container {
            padding: 30px;
            min-height: calc(100vh - 80px);
        }

        .page-header {
            margin-bottom: 30px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-navy);
            margin: 0;
        }

        .page-subtitle {
            color: var(--secondary-color);
            margin-top: 5px;
        }

        /* Dashboard Cards */
        .stat-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            border: 1px solid var(--border-gray);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue), #2563eb);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        .stat-card .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .stat-card .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary-blue), #2563eb);
        }

        .stat-card .card-icon i {
            font-size: 28px;
            color: #fff;
        }

        .stat-card.success .card-icon {
            background: linear-gradient(135deg, var(--success), #15803d);
        }

        .stat-card.warning .card-icon {
            background: linear-gradient(135deg, var(--warning), #a16207);
        }

        .stat-card.danger .card-icon {
            background: linear-gradient(135deg, var(--danger), #b91c1c);
        }

        .stat-card .card-content h3 {
            font-size: 32px;
            font-weight: 700;
            margin: 0 0 8px 0;
            color: var(--primary-navy);
        }

        .stat-card .card-content p {
            color: var(--secondary-color);
            margin: 0;
            font-weight: 500;
        }

        .stat-card .card-change {
            font-size: 14px;
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .stat-card .card-change.positive {
            color: var(--success);
        }

        .stat-card .card-change.negative {
            color: var(--danger);
        }

        /* Chart Container */
        .chart-container {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--border-gray);
        }

        .chart-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-gray);
        }

        .chart-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-navy);
            margin: 0;
        }

        .chart-wrapper {
            position: relative;
            height: 350px;
        }

        /* Data Tables */
        .data-table-container {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            overflow: hidden;
            margin-bottom: 30px;
            border: 1px solid var(--border-gray);
        }

        .data-table-header {
            padding: 25px;
            border-bottom: 1px solid var(--border-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light-bg);
        }

        .data-table-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-navy);
            margin: 0;
        }

        .data-table {
            width: 100%;
        }

        .data-table th {
            background-color: var(--light-bg);
            color: var(--secondary-color);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 12px;
            padding: 18px 20px;
            border: none;
        }

        .data-table td {
            padding: 18px 20px;
            vertical-align: middle;
            border-bottom: 1px solid var(--border-gray);
        }

        .data-table tbody tr:hover {
            background-color: rgba(59, 130, 246, 0.02);
        }

        /* Status Badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-badge.active {
            background-color: rgba(22, 163, 74, 0.15);
            color: var(--success);
        }

        .status-badge.pending {
            background-color: rgba(202, 138, 4, 0.15);
            color: var(--warning);
        }

        .status-badge.completed {
            background-color: rgba(2, 132, 199, 0.15);
            color: var(--info);
        }

        .status-badge.cancelled {
            background-color: rgba(220, 38, 38, 0.15);
            color: var(--danger);
        }

        /* Action Buttons */
        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            transition: all 0.2s ease;
            margin: 0 2px;
            border: none;
            cursor: pointer;
        }

        .action-btn.view {
            background: linear-gradient(135deg, var(--info), #0369a1);
        }

        .action-btn.edit {
            background: linear-gradient(135deg, var(--primary-blue), #2563eb);
        }

        .action-btn.delete {
            background: linear-gradient(135deg, var(--danger), #b91c1c);
        }

        .action-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        /* Buttons */
        .btn-primary-custom {
            background: linear-gradient(135deg, var(--primary-navy), var(--primary-blue));
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.2s ease;
            color: white;
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
            color: white;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .content-container {
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .top-navbar {
                padding: 0.8rem 1rem;
            }
            
            .search-form {
                display: none;
            }
            
            .chart-wrapper {
                height: 250px;
            }
            
            .stat-card {
                margin-bottom: 20px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Success Animation */
        .success-checkmark {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: block;
            stroke-width: 2;
            stroke: var(--success);
            stroke-miterlimit: 10;
            margin: 10% auto;
            box-shadow: inset 0px 0px 0px var(--success);
            animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
        }

        .success-checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 2;
            stroke-miterlimit: 10;
            stroke: var(--success);
            fill: none;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }

        .success-checkmark__check {
            transform-origin: 50% 50%;
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }

        @keyframes stroke {
            100% {
                stroke-dashoffset: 0;
            }
        }

        @keyframes scale {
            0%, 100% {
                transform: none;
            }
            50% {
                transform: scale3d(1.1, 1.1, 1);
            }
        }

        @keyframes fill {
            100% {
                box-shadow: inset 0px 0px 0px 30px var(--success);
            }
        }

        /* Page Transitions */
        .page-content {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Dark Theme Styles */
        body.dark-theme {
            background-color: #0f172a;
            color: #f1f5f9;
            transition: all 0.3s ease;
        }

        body.dark-theme .sidebar {
            background: linear-gradient(180deg, #020617 0%, #000000 100%);
        }

        body.dark-theme .top-navbar {
            background: #1e293b;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            border-bottom: 1px solid #334155;
        }

        body.dark-theme .stat-card,
        body.dark-theme .chart-container,
        body.dark-theme .data-table-container {
            background: #1e293b;
            border-color: #334155;
        }

        body.dark-theme .data-table-header {
            background: #0f172a;
        }

        body.dark-theme .page-title {
            color: #f1f5f9;
        }

        body.dark-theme .search-input {
            background-color: #334155;
            border-color: #475569;
            color: #f1f5f9;
        }

        body.dark-theme .search-input::placeholder {
            color: #94a3b8;
        }

        body.dark-theme .table {
            color: #f1f5f9;
        }

        body.dark-theme .data-table th {
            background-color: #0f172a;
            color: #94a3b8;
        }

        body.dark-theme .data-table td {
            border-bottom-color: #334155;
        }

        body.dark-theme .data-table tbody tr:hover {
            background-color: rgba(59, 130, 246, 0.08);
        }

        body.dark-theme .stat-card .card-content h3 {
            color: #f1f5f9;
        }

        body.dark-theme .chart-title {
            color: #f1f5f9;
        }

        body.dark-theme .data-table-title {
            color: #f1f5f9;
        }

        body.dark-theme .navbar-brand {
            color: #f1f5f9;
        }

        /* Theme Toggle Button Styles */
        .theme-toggle {
            position: fixed;
            right: 20px;
            bottom: 20px;
            z-index: 1050;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-blue), #2563eb);
            border: none;
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
        }

        .theme-toggle:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);
        }

        body.dark-theme .theme-toggle {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4);
        }

        body.dark-theme .theme-toggle:hover {
            box-shadow: 0 6px 20px rgba(251, 191, 36, 0.5);
        }

        /* ===== MOBILE RESPONSIVE OPTIMIZATIONS ===== */
        
        /* Mobile Touch Targets & Accessibility */
        @media (max-width: 768px) {
            /* Minimum 44px touch targets */
            .btn, .nav-link, .action-btn, .sidebar .nav-link {
                min-height: 44px;
                min-width: 44px;
                padding: 12px;
            }
            
            /* Sidebar navigation for mobile */
            .sidebar .nav-link {
                padding: 16px 20px;
                font-size: 16px;
            }
            
            /* Mobile font sizes */
            .page-title {
                font-size: 24px;
                margin-bottom: 8px;
            }
            
            .page-subtitle {
                font-size: 14px;
            }
            
            /* Stat cards mobile optimization */
            .stat-card {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .stat-card .card-content h3 {
                font-size: 20px;
            }
            
            .stat-card .card-content span {
                font-size: 12px;
            }
            
            .stat-card .card-icon {
                width: 50px;
                height: 50px;
            }
            
            .stat-card .card-icon i {
                font-size: 20px;
            }
            
            /* Chart containers mobile */
            .chart-container, .data-table-container {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .chart-title, .data-table-title {
                font-size: 18px;
            }
            
            /* Mobile navbar */
            .top-navbar {
                padding: 1rem;
            }
            
            .navbar-brand {
                font-size: 18px;
            }
            
            /* Mobile search */
            .search-input {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 10px 12px;
            }
            
            /* Mobile action buttons */
            .action-btn {
                width: 40px;
                height: 40px;
                margin: 0 1px;
            }
            
            /* Mobile table responsiveness */
            .table-responsive {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .data-table th, .data-table td {
                padding: 10px 12px;
                white-space: nowrap;
            }
            
            /* Hide optional columns on mobile */
            .mobile-hide {
                display: none !important;
            }
            
            /* Mobile filter panel */
            .advanced-filter-panel {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .filter-title {
                font-size: 16px;
            }
        }
        
        /* Extra small mobile devices */
        @media (max-width: 576px) {
            .container-fluid {
                padding: 0 15px;
            }
            
            .page-header {
                padding: 15px 0;
            }
            
            .stat-card {
                padding: 12px;
            }
            
            .chart-container, .data-table-container {
                padding: 12px;
            }
            
            .chart-wrapper {
                height: 200px !important;
            }
            
            .sidebar .nav-link {
                padding: 14px 15px;
            }
            
            /* Stack form elements */
            .row.g-3 .col-md-3 {
                margin-bottom: 15px;
            }
        }
        
        /* Tablet optimization */
        @media (min-width: 768px) and (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
            
            .main-content {
                margin-left: 240px;
            }
            
            .chart-wrapper {
                height: 300px;
            }
            
            .stat-card .card-content h3 {
                font-size: 22px;
            }
        }
        
        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            /* Touch-friendly hover states */
            .stat-card:active,
            .chart-container:active,
            .data-table-container:active {
                transform: scale(0.98);
            }
            
            .btn:active {
                transform: scale(0.95);
            }
            
            .sidebar .nav-link:active {
                background: rgba(255,255,255,0.15);
            }
            
            /* Larger touch targets */
            .theme-toggle, .quick-action-btn {
                width: 56px;
                height: 56px;
            }
            
            /* Disable hover animations on touch */
            .sidebar .nav-link:hover {
                transform: none;
            }
        }
        
        /* Hover-enabled devices */
        @media (hover: hover) and (pointer: fine) {
            /* Enhanced hover effects for mouse users */
            .stat-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            }
            
            .sidebar .nav-link:hover {
                transform: translateX(5px);
            }
        }
        
        /* High DPI screens */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .sidebar-logo .logo-circle {
                border-width: 1px;
            }
            
            .action-btn {
                border-width: 1px;
            }
        }
        
        /* ===== iOS SAFARI SPECIFIC FIXES ===== */
        
        /* Safe area support for iOS */
        @supports (padding: max(0px)) {
            .top-navbar {
                padding-top: max(1rem, env(safe-area-inset-top));
                padding-left: max(1rem, env(safe-area-inset-left));
                padding-right: max(1rem, env(safe-area-inset-right));
            }
            
            .sidebar {
                padding-top: env(safe-area-inset-top);
                padding-bottom: env(safe-area-inset-bottom);
                margin-left: env(safe-area-inset-left);
            }
            
            .main-content {
                padding-bottom: max(2rem, env(safe-area-inset-bottom));
            }
        }
        
        /* iOS scroll behavior fixes */
        @supports (-webkit-overflow-scrolling: touch) {
            .main-content,
            .sidebar,
            .table-responsive {
                -webkit-overflow-scrolling: touch;
            }
            
            /* Prevent rubber band scrolling */
            body {
                -webkit-overflow-scrolling: auto;
            }
        }
        
        /* iOS input zoom prevention */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            input[type="text"],
            input[type="email"],
            input[type="password"],
            input[type="search"],
            select,
            textarea {
                font-size: 16px !important;
                -webkit-appearance: none;
                appearance: none;
            }
        }
        
        /* iOS status bar color */
        @media (max-width: 768px) {
            body {
                padding-top: env(safe-area-inset-top);
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }
        }
        
        /* WebKit specific optimizations */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            /* Smooth scrolling for WebKit */
            * {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            
            /* Better touch callouts */
            .btn, .nav-link, .action-btn {
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }
            
            /* Better tap highlight */
            .btn, .nav-link, .action-btn, .stat-card {
                -webkit-tap-highlight-color: rgba(0,0,0,0.1);
            }
            
            /* Prevent text size adjust */
            .page-title, .chart-title, .data-table-title {
                -webkit-text-size-adjust: 100%;
                text-size-adjust: 100%;
            }
        }
        
        /* iOS PWA specific styles */
        @media all and (display-mode: standalone) {
            .top-navbar {
                padding-top: max(1rem, 44px);
            }
            
            body {
                padding-top: 0;
            }
            
            /* Hide address bar simulation */
            .main-content {
                min-height: 100vh;
                min-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
            }
        }
        
        /* Landscape orientation fixes */
        @media (orientation: landscape) and (max-height: 500px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
        }
        
        /* Support for iOS 15+ */
        @supports (height: 100dvh) {
            .main-content {
                min-height: 100dvh;
            }
        }
        
        /* Accessibility improvements for mobile */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .sidebar .nav-link {
                border: 1px solid currentColor;
                margin-bottom: 2px;
            }
            
            .btn {
                border-width: 2px;
            }
        }
        
        /* ===== MOBILE PERFORMANCE OPTIMIZATIONS ===== */
        
        /* GPU acceleration for smooth animations */
        .sidebar,
        .main-content,
        .stat-card,
        .chart-container,
        .data-table-container,
        .sidebar-overlay {
            will-change: transform;
            transform: translateZ(0);
        }
        
        /* Optimize scroll performance */
        .main-content,
        .sidebar,
        .table-responsive {
            contain: layout style paint;
        }
        
        /* Low bandwidth optimizations */
        .low-bandwidth * {
            animation-duration: 0.1s !important;
            transition-duration: 0.1s !important;
        }
        
        .low-bandwidth .chart-wrapper {
            background-image: none !important;
            background-color: rgba(255,255,255,0.05) !important;
        }
        
        .low-bandwidth .stat-card,
        .low-bandwidth .chart-container,
        .low-bandwidth .data-table-container {
            box-shadow: none !important;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Battery optimization */
        @media (prefers-reduced-motion: reduce) {
            .sidebar .nav-link,
            .stat-card,
            .btn {
                transition: none !important;
                animation: none !important;
            }
        }
        
        /* Memory efficient responsive images */
        @media (max-width: 768px) {
            img {
                max-width: 100%;
                height: auto;
                image-rendering: optimizeQuality;
            }
        }
        
        /* Optimize table performance on mobile */
        @media (max-width: 768px) {
            .dataTables_wrapper {
                font-size: 14px;
            }
            
            .dataTables_wrapper .dataTables_paginate .paginate_button {
                padding: 6px 10px !important;
                margin: 2px 1px !important;
            }
            
            .dataTables_wrapper .dataTables_filter input {
                width: 100% !important;
                padding: 8px 12px !important;
                margin-bottom: 10px !important;
            }
            
            /* Hide non-essential table elements on mobile */
            .dataTables_wrapper .dataTables_info {
                font-size: 12px;
                text-align: center;
                padding: 5px 0;
            }
            
            .dataTables_wrapper .dataTables_length {
                text-align: center;
                margin-bottom: 10px;
            }
        }
        
        /* Progressive Enhancement */
        .chart-container canvas {
            max-width: 100%;
            height: auto !important;
        }
        
        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            .gsap-animation,
            .animated {
                animation: none !important;
                transition: none !important;
            }
        }
        
        /* Dark mode performance optimization */
        @media (prefers-color-scheme: dark) {
            body:not(.theme-loaded) {
                background: #1a1a1a;
                color: #fff;
            }
        }

        /* Advanced Filter Panel Styles */
        .advanced-filter-panel {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--border-gray);
            transition: all 0.3s ease;
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .filter-title {
            font-weight: 600;
            margin: 0;
            color: var(--primary-navy);
            font-size: 18px;
        }

        .filter-toggle {
            background: none;
            border: none;
            color: var(--primary-blue);
            font-weight: 500;
            cursor: pointer;
        }

        .filter-body {
            border-top: 1px solid var(--border-gray);
            padding-top: 20px;
            transition: all 0.3s ease;
        }

        .filter-body.hidden {
            display: none;
        }

        body.dark-theme .advanced-filter-panel {
            background: #1e293b;
            border-color: #334155;
        }

        body.dark-theme .filter-title {
            color: #f1f5f9;
        }

        body.dark-theme .filter-body {
            border-top-color: #334155;
        }

        body.dark-theme .form-control,
        body.dark-theme .form-select {
            background-color: #334155;
            border-color: #475569;
            color: #f1f5f9;
        }

        body.dark-theme .form-control::placeholder {
            color: #94a3b8;
        }

        body.dark-theme .form-label {
            color: #f1f5f9;
        }

        /* Quick Actions Floating Button */
        .quick-actions {
            position: fixed;
            right: 30px;
            bottom: 90px;
            z-index: 1045;
        }

        .quick-action-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--success), #15803d);
            border: none;
            color: white;
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .quick-action-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.5);
        }

        .quick-action-menu {
            position: absolute;
            bottom: 75px;
            right: 0;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            width: 240px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
            transform: translateY(20px) scale(0.8);
            pointer-events: none;
        }

        .quick-actions.active .quick-action-menu {
            max-height: 350px;
            padding: 15px 0;
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: all;
        }

        .quick-action-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: var(--primary-navy);
            text-decoration: none;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .quick-action-item:hover {
            background: var(--light-bg);
            color: var(--primary-blue);
            padding-left: 25px;
        }

        .quick-action-item i {
            margin-right: 15px;
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        body.dark-theme .quick-action-menu {
            background: #1e293b;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        body.dark-theme .quick-action-item {
            color: #f1f5f9;
        }

        body.dark-theme .quick-action-item:hover {
            background: #334155;
            color: var(--primary-blue);
        }

        /* Sortable Container Styles */
        .sortable-container {
            min-height: 100px;
        }

        .sortable-ghost {
            opacity: 0.5;
            background: rgba(59, 130, 246, 0.1);
            border: 2px dashed var(--primary-blue);
            border-radius: 16px;
        }

        .card-header, .chart-header {
            cursor: move;
            position: relative;
        }

        .card-header:hover::after, .chart-header:hover::after {
            content: "⋮⋮";
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(59, 130, 246, 0.6);
            font-size: 14px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <div class="admin-container">
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-logo">
                        <div class="logo-circle">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <span class="logo-text">İsmail Kitap</span>
                    </div>
                    <button class="btn-close-sidebar d-lg-none" id="closeSidebarBtn" title="Sidebar'ı Kapat">
                        <i class="fas fa-times"></i>
                    </button>
                </div>            <div class="sidebar-menu">
                <div class="menu-section">
                    <div class="menu-title">Ana Menü</div>
                    <ul class="nav flex-column">
                        <li class="nav-item active">
                            <a href="#dashboard" class="nav-link" data-page="dashboard">
                                <i class="fas fa-chart-line"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#books" class="nav-link" data-page="books">
                                <i class="fas fa-book"></i>
                                <span>Kitap Yönetimi</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#categories" class="nav-link" data-page="categories">
                                <i class="fas fa-tags"></i>
                                <span>Kategoriler</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#orders" class="nav-link" data-page="orders">
                                <i class="fas fa-shopping-cart"></i>
                                <span>Siparişler</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="menu-section">
                    <div class="menu-title">Kullanıcı Yönetimi</div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a href="#customers" class="nav-link" data-page="customers">
                                <i class="fas fa-users"></i>
                                <span>Müşteriler</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#bookstore-owners" class="nav-link" data-page="bookstore-owners">
                                <i class="fas fa-store"></i>
                                <span>Kitapçılar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#admins" class="nav-link" data-page="admins">
                                <i class="fas fa-user-shield"></i>
                                <span>Yöneticiler</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="menu-section">
                    <div class="menu-title">Raporlar & Ayarlar</div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a href="#reports" class="nav-link" data-page="reports">
                                <i class="fas fa-chart-bar"></i>
                                <span>Raporlar</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#settings" class="nav-link" data-page="settings">
                                <i class="fas fa-cog"></i>
                                <span>Ayarlar</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Navbar -->
            <nav class="navbar navbar-expand-lg top-navbar">
                <div class="container-fluid">
                    <!-- Mobile Toggle Button -->
                    <button id="mobileToggle" class="btn d-lg-none" type="button">
                        <i class="fas fa-bars"></i>
                    </button>
                    
                    <!-- Search Box -->
                    <form class="search-form position-relative d-none d-md-flex">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="form-control search-input" placeholder="Kitap, sipariş, müşteri ara...">
                    </form>
                    
                    <!-- Right Navbar Items -->
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link position-relative" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-bell fs-5"></i>
                                <span class="notification-badge">3</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><h6 class="dropdown-header">Bildirimler</h6></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#">
                                    <i class="fas fa-shopping-cart text-primary me-2"></i>
                                    Yeni sipariş alındı
                                    <small class="text-muted d-block">5 dk önce</small>
                                </a></li>
                                <li><a class="dropdown-item" href="#">
                                    <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                                    Stok uyarısı: Harry Potter
                                    <small class="text-muted d-block">2 saat önce</small>
                                </a></li>
                            </ul>
                        </li>
                        
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                                <img src="https://via.placeholder.com/40" alt="Admin" class="rounded-circle admin-avatar me-2">
                                <span class="d-none d-md-inline-block">Admin</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i> Profil</a></li>
                                <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i> Ayarlar</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt me-2"></i> Çıkış</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
            
            <!-- Content Container -->
            <div class="content-container">
                <!-- Dashboard Content (Default) -->
                <div id="dashboard-content" class="page-content">
                    <div class="page-header">
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">İsmail Kitap yönetim paneline hoş geldiniz</p>
                    </div>

                    <!-- Advanced Filter Panel -->
                    <div class="advanced-filter-panel">
                        <div class="filter-header">
                            <h6 class="filter-title">
                                <i class="fas fa-filter me-2"></i>Gelişmiş Filtreleme
                            </h6>
                            <button class="btn btn-sm filter-toggle" onclick="toggleFilterPanel()">
                                <i class="fas fa-chevron-up"></i> Gizle
                            </button>
                        </div>
                        <div class="filter-body" id="filterBody">
                            <div class="row g-3">
                                <div class="col-md-3">
                                    <label class="form-label">Kategori</label>
                                    <select class="form-select" multiple size="3">
                                        <option>Roman</option>
                                        <option>Bilim Kurgu</option>
                                        <option>Tarih</option>
                                        <option>Felsefe</option>
                                        <option>Çocuk Kitapları</option>
                                        <option>Akademik</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Fiyat Aralığı (₺)</label>
                                    <div class="d-flex gap-2">
                                        <input type="number" class="form-control" placeholder="Min" value="0">
                                        <input type="number" class="form-control" placeholder="Max" value="1000">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Stok Durumu</label>
                                    <select class="form-select">
                                        <option>Tümü</option>
                                        <option>Stokta var (>10)</option>
                                        <option>Kritik stok (1-10)</option>
                                        <option>Tükendi (0)</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Tarih Aralığı</label>
                                    <input type="text" class="form-control" placeholder="Tarih aralığı seçin" value="Son 30 Gün">
                                </div>
                            </div>
                            <div class="row g-3 mt-2">
                                <div class="col-md-3">
                                    <label class="form-label">Yazar</label>
                                    <input type="text" class="form-control" placeholder="Yazar adı...">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Yayınevi</label>
                                    <select class="form-select">
                                        <option>Tümü</option>
                                        <option>Can Yayınları</option>
                                        <option>İş Bankası Kültür</option>
                                        <option>Yapı Kredi</option>
                                        <option>Doğan Kitap</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Satış Durumu</label>
                                    <select class="form-select">
                                        <option>Tümü</option>
                                        <option>Çok Satan</option>
                                        <option>Orta Seviye</option>
                                        <option>Düşük Satış</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Dil</label>
                                    <select class="form-select">
                                        <option>Türkçe</option>
                                        <option>İngilizce</option>
                                        <option>Almanca</option>
                                        <option>Fransızca</option>
                                    </select>
                                </div>
                            </div>
                            <div class="d-flex justify-content-end mt-3 gap-2">
                                <button class="btn btn-light" onclick="resetFilters()">
                                    <i class="fas fa-undo me-1"></i>Sıfırla
                                </button>
                                <button class="btn btn-primary" onclick="applyFilters()">
                                    <i class="fas fa-search me-1"></i>Filtrele
                                </button>
                                <button class="btn btn-success" onclick="exportFilteredData()">
                                    <i class="fas fa-download me-1"></i>Dışa Aktar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Statistics Cards -->
                    <div class="row sortable-container" id="sortableStats">
                        <div class="col-xl-3 col-md-6">
                            <div class="stat-card">
                                <div class="card-header">
                                    <div class="card-content">
                                        <h3>₺124,580</h3>
                                        <p>Bu Ay Toplam Satış</p>
                                        <div class="card-change positive">
                                            <i class="fas fa-arrow-up me-1"></i> %15.3 artış
                                        </div>
                                    </div>
                                    <div class="card-icon">
                                        <i class="fas fa-lira-sign"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6">
                            <div class="stat-card success">
                                <div class="card-header">
                                    <div class="card-content">
                                        <h3>2,847</h3>
                                        <p>Toplam Sipariş</p>
                                        <div class="card-change positive">
                                            <i class="fas fa-arrow-up me-1"></i> %8.2 artış
                                        </div>
                                    </div>
                                    <div class="card-icon">
                                        <i class="fas fa-shopping-bag"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6">
                            <div class="stat-card warning">
                                <div class="card-header">
                                    <div class="card-content">
                                        <h3>15,847</h3>
                                        <p>Toplam Kitap</p>
                                        <div class="card-change positive">
                                            <i class="fas fa-arrow-up me-1"></i> 243 yeni
                                        </div>
                                    </div>
                                    <div class="card-icon">
                                        <i class="fas fa-book"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6">
                            <div class="stat-card danger">
                                <div class="card-header">
                                    <div class="card-content">
                                        <h3>4,521</h3>
                                        <p>Toplam Müşteri</p>
                                        <div class="card-change positive">
                                            <i class="fas fa-arrow-up me-1"></i> %12.5 artış
                                        </div>
                                    </div>
                                    <div class="card-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="row">
                        <!-- Sales Chart -->
                        <div class="col-lg-8">
                            <div class="chart-container">
                                <div class="chart-header">
                                    <h5 class="chart-title">Aylık Satış İstatistikleri</h5>
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-primary active">6 Ay</button>
                                        <button type="button" class="btn btn-sm btn-outline-primary">1 Yıl</button>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="salesChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 3D Interactive Sales Chart -->
                        <div class="col-lg-12 mb-4">
                            <div class="chart-container">
                                <div class="chart-header">
                                    <h5 class="chart-title">
                                        <i class="fas fa-cube me-2"></i>3D İnteraktif Satış Analizi
                                    </h5>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-sm btn-outline-primary toggle-3d" onclick="toggle3DView()">
                                            <i class="fas fa-eye me-1"></i>2D Görünüm
                                        </button>
                                        <button class="btn btn-sm btn-outline-success" onclick="rotate3DChart()">
                                            <i class="fas fa-sync-alt me-1"></i>Döndür
                                        </button>
                                    </div>
                                </div>
                                <div class="chart-wrapper" style="height: 450px; position: relative;">
                                    <canvas id="3dSalesChart" style="width: 100%; height: 100%;"></canvas>
                                    <div id="3dChartTooltip" style="position: absolute; background: rgba(0,0,0,0.8); color: white; padding: 8px 12px; border-radius: 6px; font-size: 12px; pointer-events: none; opacity: 0; z-index: 10;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Category Distribution -->
                        <div class="col-lg-4">
                            <div class="chart-container">
                                <div class="chart-header">
                                    <h5 class="chart-title">Kategori Dağılımı</h5>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="categoryChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Orders Table -->
                    <div class="row">
                        <div class="col-12">
                            <div class="data-table-container">
                                <div class="data-table-header">
                                    <h5 class="data-table-title">Son Siparişler</h5>
                                    <a href="#orders" class="btn btn-primary-custom btn-sm">
                                        Tümünü Gör <i class="fas fa-arrow-right ms-1"></i>
                                    </a>
                                </div>
                                
                                <div class="table-responsive">
                                    <table class="table data-table">
                                        <thead>
                                            <tr>
                                                <th>Sipariş #</th>
                                                <th>Müşteri</th>
                                                <th>Tarih</th>
                                                <th>Tutar</th>
                                                <th>Durum</th>
                                                <th>İşlemler</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>#ORD-8954</strong></td>
                                                <td>Ayşe Demir</td>
                                                <td>29 Eyl 2025, 16:45</td>
                                                <td><strong>₺284.50</strong></td>
                                                <td><span class="status-badge pending">Hazırlanıyor</span></td>
                                                <td>
                                                    <button class="action-btn view" title="Görüntüle"><i class="fas fa-eye"></i></button>
                                                    <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><strong>#ORD-8953</strong></td>
                                                <td>Mehmet Kaya</td>
                                                <td>29 Eyl 2025, 15:22</td>
                                                <td><strong>₺156.90</strong></td>
                                                <td><span class="status-badge active">Kargoda</span></td>
                                                <td>
                                                    <button class="action-btn view" title="Görüntüle"><i class="fas fa-eye"></i></button>
                                                    <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><strong>#ORD-8952</strong></td>
                                                <td>Zeynep Aydın</td>
                                                <td>29 Eyl 2025, 14:08</td>
                                                <td><strong>₺432.25</strong></td>
                                                <td><span class="status-badge completed">Teslim Edildi</span></td>
                                                <td>
                                                    <button class="action-btn view" title="Görüntüle"><i class="fas fa-eye"></i></button>
                                                    <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other Page Contents (Hidden by default) -->
                <div id="books-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Kitap Yönetimi</h1>
                        <p class="page-subtitle">Kitap ekleme, düzenleme ve stok yönetimi</p>
                    </div>
                    
                    <div class="data-table-container">
                        <div class="data-table-header">
                            <h5 class="data-table-title">Kitap Listesi</h5>
                            <button class="btn btn-primary-custom">
                                <i class="fas fa-plus me-2"></i>Yeni Kitap Ekle
                            </button>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table data-table">
                                <thead>
                                    <tr>
                                        <th>Kapak</th>
                                        <th>Kitap Adı</th>
                                        <th>Yazar</th>
                                        <th>Yayınevi</th>
                                        <th>Fiyat</th>
                                        <th>Stok</th>
                                        <th>Durum</th>
                                        <th>İşlemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><img src="https://dilhjuhvld2bq.cloudfront.net/product/6d3501dad48243b5ab48384fffe0628a_front.jpg?width=40&format=png" alt="" class="img-thumbnail" width="40"></td>
                                        <td><strong>Cumhuriyet'in İlk Sabahı</strong></td>
                                        <td>Sermin Yaşar</td>
                                        <td>Kronik Kitap</td>
                                        <td><strong>₺89.90</strong></td>
                                        <td><span class="badge bg-success">42</span></td>
                                        <td><span class="status-badge active">Aktif</span></td>
                                        <td>
                                            <button class="action-btn view" title="Görüntüle"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete" title="Sil"><i class="fas fa-trash"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><img src="https://dilhjuhvld2bq.cloudfront.net/product/928e66844d1c48d9a822b21152cc1d57_front.jpg?width=40&format=png" alt="" class="img-thumbnail" width="40"></td>
                                        <td><strong>Millete Emanet</strong></td>
                                        <td>Yavuz Öğhan</td>
                                        <td>Kırmızı Kedi Yayınevi</td>
                                        <td><strong>₺90.00</strong></td>
                                        <td><span class="badge bg-warning">8</span></td>
                                        <td><span class="status-badge pending">Kritik Stok</span></td>
                                        <td>
                                            <button class="action-btn view" title="Görüntüle"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete" title="Sil"><i class="fas fa-trash"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Orders Content -->
                <div id="orders-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Sipariş Yönetimi</h1>
                        <p class="page-subtitle">Sipariş takibi ve yönetimi</p>
                    </div>
                    
                    <div class="data-table-container">
                        <div class="data-table-header">
                            <h5 class="data-table-title">Tüm Siparişler</h5>
                            <div class="d-flex gap-2">
                                <select class="form-select form-select-sm">
                                    <option>Tüm Durumlar</option>
                                    <option>Bekleyen</option>
                                    <option>Hazırlanıyor</option>
                                    <option>Kargoda</option>
                                    <option>Teslim Edildi</option>
                                </select>
                                <button class="btn btn-outline-secondary btn-sm">Filtrele</button>
                            </div>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table data-table">
                                <thead>
                                    <tr>
                                        <th>Sipariş #</th>
                                        <th>Müşteri</th>
                                        <th>Ürün Sayısı</th>
                                        <th>Tarih</th>
                                        <th>Tutar</th>
                                        <th>Ödeme</th>
                                        <th>Durum</th>
                                        <th>İşlemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>#ORD-8954</strong></td>
                                        <td>Ayşe Demir<br><small class="text-muted">ayse@example.com</small></td>
                                        <td><span class="badge bg-primary">3</span></td>
                                        <td>29 Eyl 2025<br><small class="text-muted">16:45</small></td>
                                        <td><strong>₺284.50</strong></td>
                                        <td><span class="status-badge completed">Ödendi</span></td>
                                        <td><span class="status-badge pending">Hazırlanıyor</span></td>
                                        <td>
                                            <button class="action-btn view" title="Detaylar"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Customers Content -->
                <div id="customers-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Bireysel Müşteriler</h1>
                        <p class="page-subtitle">B2C müşteri yönetimi</p>
                    </div>
                    
                    <div class="data-table-container">
                        <div class="data-table-header">
                            <h5 class="data-table-title">Müşteri Listesi</h5>
                            <button class="btn btn-primary-custom">
                                <i class="fas fa-user-plus me-2"></i>Yeni Müşteri
                            </button>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table data-table">
                                <thead>
                                    <tr>
                                        <th>Müşteri</th>
                                        <th>Email</th>
                                        <th>Telefon</th>
                                        <th>Kayıt Tarihi</th>
                                        <th>Sipariş Sayısı</th>
                                        <th>Toplam Harcama</th>
                                        <th>Durum</th>
                                        <th>İşlemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <img src="https://via.placeholder.com/40" alt="" class="rounded-circle me-3" width="40">
                                                <div>
                                                    <strong>Ayşe Demir</strong><br>
                                                    <small class="text-muted">#CUST-4521</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>ayse.demir@example.com</td>
                                        <td>+90 532 123 4567</td>
                                        <td>15 Mar 2025</td>
                                        <td><span class="badge bg-primary">12</span></td>
                                        <td><strong>₺1,245.90</strong></td>
                                        <td><span class="status-badge active">Aktif</span></td>
                                        <td>
                                            <button class="action-btn view" title="Profil"><i class="fas fa-user"></i></button>
                                            <button class="action-btn edit" title="Düzenle"><i class="fas fa-edit"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Other page contents with similar structure -->
                <div id="bookstore-owners-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Kitapçı Müşteriler</h1>
                        <p class="page-subtitle">B2B toptan müşteri yönetimi</p>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Kitapçı müşteri yönetimi sayfası geliştiriliyor...
                    </div>
                </div>

                <div id="categories-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Kategori Yönetimi</h1>
                        <p class="page-subtitle">Kitap kategori ve alt kategori yönetimi</p>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Kategori yönetimi sayfası geliştiriliyor...
                    </div>
                </div>

                <div id="admins-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Yönetici Hesapları</h1>
                        <p class="page-subtitle">Admin kullanıcı yönetimi ve yetkilendirme</p>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Yönetici hesap yönetimi sayfası geliştiriliyor...
                    </div>
                </div>

                <div id="reports-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Raporlar</h1>
                        <p class="page-subtitle">Satış, stok ve müşteri raporları</p>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Raporlama sayfası geliştiriliyor...
                    </div>
                </div>

                <div id="settings-content" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Sistem Ayarları</h1>
                        <p class="page-subtitle">Genel ayarlar ve yapılandırma</p>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Ayarlar sayfası geliştiriliyor...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container for Notifications -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="successToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i class="fas fa-check-circle text-success me-2"></i>
                <strong class="me-auto">Başarılı</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                İşlem başarıyla tamamlandı.
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>

    <script>
        // Admin Panel JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Variables
            const sidebar = document.getElementById('sidebar');
            const mobileToggle = document.getElementById('mobileToggle');
            const navLinks = document.querySelectorAll('.sidebar .nav-link');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            
            // iOS 100vh fix
            function fixIOSHeight() {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }
            
            // Mobile device detection
            const isMobile = () => window.innerWidth < 992;
            const isTouch = () => 'ontouchstart' in window || navigator.maxTouchPoints;

            // Mobile Sidebar System - Complete Rewrite
            const closeSidebarBtn = document.getElementById('closeSidebarBtn');
            let clickOutsideHandler = null;
            let sidebarAnimationTimeout;
            
            // Core sidebar functions
            function openSidebar() {
                if (sidebarAnimationTimeout) clearTimeout(sidebarAnimationTimeout);
                
                sidebar.classList.add('active');
                sidebarOverlay.classList.add('active');
                document.body.classList.add('sidebar-open');
                
                // Add click-outside handler after animation starts
                sidebarAnimationTimeout = setTimeout(() => {
                    if (clickOutsideHandler) {
                        document.removeEventListener('click', clickOutsideHandler);
                    }
                    clickOutsideHandler = handleClickOutside;
                    document.addEventListener('click', clickOutsideHandler);
                }, 50);
            }
            
            function closeSidebar() {
                if (sidebarAnimationTimeout) clearTimeout(sidebarAnimationTimeout);
                
                sidebar.classList.remove('active');
                sidebarOverlay.classList.remove('active');
                document.body.classList.remove('sidebar-open');
                
                // Remove click-outside handler
                if (clickOutsideHandler) {
                    document.removeEventListener('click', clickOutsideHandler);
                    clickOutsideHandler = null;
                }
            }
            
            function handleClickOutside(e) {
                // Don't close if clicking inside sidebar or on toggle/close buttons
                if (sidebar.contains(e.target) || 
                    (mobileToggle && mobileToggle.contains(e.target)) ||
                    (closeSidebarBtn && closeSidebarBtn.contains(e.target))) {
                    return;
                }
                
                // Only close on mobile devices
                if (isMobile()) {
                    closeSidebar();
                }
            }
            
            // Mobile toggle button event
            if (mobileToggle) {
                mobileToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    openSidebar();
                });
            }
            
            // Close button event
            if (closeSidebarBtn) {
                closeSidebarBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    closeSidebar();
                });
            }
            
            // Overlay click event
            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    closeSidebar();
                });
            }
            
            // Handle window resize with debouncing
            let sidebarResizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(sidebarResizeTimeout);
                sidebarResizeTimeout = setTimeout(() => {
                    fixIOSHeight();
                    // Auto-close sidebar when switching to desktop view
                    if (!isMobile() && sidebar.classList.contains('active')) {
                        closeSidebar();
                    }
                }, 100);
            });
            
            // Handle orientation change for iOS
            window.addEventListener('orientationchange', function() {
                setTimeout(fixIOSHeight, 100);
                
                // Reinitialize charts on orientation change
                setTimeout(() => {
                    if (document.getElementById('dashboard-content').style.display !== 'none') {
                        initDashboardCharts();
                    }
                }, 300);
            });

            // Mobile Performance Optimizations
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    fixIOSHeight();
                    if (!isMobile()) {
                        closeSidebar();
                    }
                    
                    // Recalculate chart dimensions on resize
                    if (window.Chart) {
                        Object.keys(Chart.instances).forEach(key => {
                            Chart.instances[key].resize();
                        });
                    }
                }, 150);
            });

            // Lazy Loading for Better Performance
            const observerOptions = {
                root: null,
                rootMargin: '50px',
                threshold: 0.1
            };

            const lazyObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target;
                        
                        // Lazy load charts
                        if (target.classList.contains('chart-container') && !target.hasAttribute('data-initialized')) {
                            target.setAttribute('data-initialized', 'true');
                            setTimeout(() => {
                                if (target.id === 'salesChart' || target.id === 'categoryChart') {
                                    initDashboardCharts();
                                }
                            }, 100);
                        }
                        
                        // Lazy load heavy content
                        if (target.classList.contains('lazy-content')) {
                            target.classList.add('loaded');
                            lazyObserver.unobserve(target);
                        }
                    }
                });
            }, observerOptions);

            // Observe chart containers and lazy content
            document.addEventListener('DOMContentLoaded', () => {
                document.querySelectorAll('.chart-container, .lazy-content').forEach(el => {
                    lazyObserver.observe(el);
                });
            });

            // Touch Performance Optimization
            if (isTouch()) {
                // Use passive listeners for better scroll performance
                document.addEventListener('touchstart', function(e) {}, { passive: true });
                document.addEventListener('touchmove', function(e) {}, { passive: true });
                
                // Optimize touch interactions
                let touchStartTime = 0;
                document.addEventListener('touchstart', function(e) {
                    touchStartTime = Date.now();
                });
                
                document.addEventListener('touchend', function(e) {
                    const touchDuration = Date.now() - touchStartTime;
                    if (touchDuration < 150) { // Quick tap
                        // Optimize for quick interactions
                        if (e.target.closest('.stat-card')) {
                            e.target.closest('.stat-card').style.transform = 'scale(0.98)';
                            setTimeout(() => {
                                e.target.closest('.stat-card').style.transform = '';
                            }, 100);
                        }
                    }
                });
            }

            // Memory Management for Mobile
            function optimizeMemory() {
                // Clear old chart instances periodically
                if (window.Chart && Chart.instances) {
                    Object.keys(Chart.instances).forEach(key => {
                        const chart = Chart.instances[key];
                        if (chart && chart.canvas && !document.body.contains(chart.canvas)) {
                            chart.destroy();
                            delete Chart.instances[key];
                        }
                    });
                }
                
                // Garbage collection hint
                if (window.gc && typeof window.gc === 'function') {
                    window.gc();
                }
            }

            // Optimize memory every 5 minutes on mobile
            if (isMobileDevice) {
                setInterval(optimizeMemory, 5 * 60 * 1000);
            }

            // Network-Aware Loading
            if ('connection' in navigator) {
                const connection = navigator.connection;
                const handleConnectionChange = () => {
                    if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                        // Reduce animations and effects for slow connections
                        document.body.classList.add('low-bandwidth');
                        showToast('Yavaş bağlantı tespit edildi, performans optimizasyonları aktif', 'info');
                    } else {
                        document.body.classList.remove('low-bandwidth');
                    }
                };
                
                connection.addEventListener('change', handleConnectionChange);
                handleConnectionChange();
            }

            // Navigation Active State and Page Switching
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all nav items
                    navLinks.forEach(item => {
                        item.parentElement.classList.remove('active');
                    });
                    
                    // Add active class to clicked nav item
                    this.parentElement.classList.add('active');
                    
                    // Get page name from data attribute
                    const page = this.getAttribute('data-page');
                    
                    // Load page content
                    loadPage(page);
                    
                    // Close sidebar on mobile after navigation
                    if (isMobile()) {
                        closeSidebar();
                    }
                });
            });

            // Load Page Content Function
            function loadPage(page) {
                // Hide all page contents
                document.querySelectorAll('.page-content').forEach(content => {
                    content.style.display = 'none';
                });
                
                // Show selected page content
                const selectedPage = document.getElementById(page + '-content');
                if (selectedPage) {
                    selectedPage.style.display = 'block';
                    
                    // Initialize charts if dashboard
                    if (page === 'dashboard') {
                        setTimeout(initDashboardCharts, 100);
                    }
                } else {
                    // If page not found, default to dashboard
                    document.getElementById('dashboard-content').style.display = 'block';
                    setTimeout(initDashboardCharts, 100);
                }
            }

            // Mobile Detection & Chart Options
            const isMobileDevice = window.innerWidth <= 768;
            const isTouchDevice = 'ontouchstart' in window;

            // Mobile-Optimized Chart Configuration
            function getMobileChartOptions(baseOptions) {
                if (!isMobileDevice) return baseOptions;
                
                return {
                    ...baseOptions,
                    animation: { duration: 500 },
                    plugins: {
                        ...baseOptions.plugins,
                        tooltip: {
                            ...baseOptions.plugins.tooltip,
                            titleFont: { size: 12, family: 'Inter' },
                            bodyFont: { size: 11, family: 'Inter' },
                            padding: 8
                        }
                    },
                    elements: {
                        point: {
                            radius: isTouchDevice ? 4 : 3,
                            hoverRadius: isTouchDevice ? 8 : 6,
                            hitRadius: isTouchDevice ? 20 : 15
                        },
                        line: {
                            borderWidth: isMobileDevice ? 2 : 3
                        }
                    },
                    scales: {
                        ...baseOptions.scales,
                        x: {
                            ...baseOptions.scales.x,
                            ticks: {
                                ...baseOptions.scales.x.ticks,
                                font: { size: 10, family: 'Inter' },
                                maxRotation: 45,
                                minRotation: 0,
                                autoSkip: true,
                                maxTicksLimit: 4
                            }
                        },
                        y: {
                            ...baseOptions.scales.y,
                            ticks: {
                                ...baseOptions.scales.y.ticks,
                                font: { size: 10, family: 'Inter' },
                                maxTicksLimit: 5
                            }
                        }
                    }
                };
            }

            // Initialize Dashboard Charts
            function initDashboardCharts() {
                // Sales Chart
                const salesCtx = document.getElementById('salesChart');
                if (salesCtx && !salesCtx.hasAttribute('data-chart-initialized')) {
                    salesCtx.setAttribute('data-chart-initialized', 'true');
                    
                    const salesOptions = getMobileChartOptions({
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                titleColor: 'white',
                                bodyColor: 'white',
                                borderColor: 'rgba(59, 130, 246, 1)',
                                borderWidth: 1,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        return `Satış: ₺${context.parsed.y.toLocaleString()}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)',
                                    drawBorder: false
                                },
                                ticks: {
                                    font: {
                                        family: 'Inter, sans-serif'
                                    }
                                }
                            },
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '₺' + (value / 1000) + 'K';
                                    },
                                    font: {
                                        family: 'Inter, sans-serif'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)',
                                    drawBorder: false
                                }
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        }
                    });
                    
                    new Chart(salesCtx, {
                        type: 'line',
                        data: {
                            labels: isMobileDevice ? ['Nis', 'May', 'Haz', 'Tem', 'Ağu', 'Eyl'] : 
                                   ['Nisan', 'Mayıs', 'Haziran', 'Temmuz', 'Ağustos', 'Eylül'],
                            datasets: [{
                                label: 'Satış (₺)',
                                data: [65400, 78200, 85600, 92300, 108400, 124580],
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                borderColor: 'rgba(59, 130, 246, 1)',
                                borderWidth: isMobileDevice ? 2 : 3,
                                pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                                pointRadius: isTouchDevice ? 4 : 6,
                                pointHoverRadius: isTouchDevice ? 8 : 8,
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: salesOptions
                    });
                }
                
                // Category Distribution Chart
                const categoryCtx = document.getElementById('categoryChart');
                if (categoryCtx && !categoryCtx.hasAttribute('data-chart-initialized')) {
                    categoryCtx.setAttribute('data-chart-initialized', 'true');
                    
                    new Chart(categoryCtx, {
                        type: 'doughnut',
                        data: {
                            labels: isMobileDevice ? 
                                   ['Roman', 'Bilim K.', 'K.Gelişim', 'Çocuk', 'Tarih', 'Diğer'] :
                                   ['Roman', 'Bilim Kurgu', 'Kişisel Gelişim', 'Çocuk Kitapları', 'Tarih', 'Diğer'],
                            datasets: [{
                                data: [35, 22, 18, 12, 8, 5],
                                backgroundColor: [
                                    '#3b82f6',
                                    '#16a34a',
                                    '#ca8a04',
                                    '#dc2626',
                                    '#9333ea',
                                    '#64748b'
                                ],
                                borderWidth: 0,
                                hoverBorderWidth: isTouchDevice ? 4 : 3,
                                hoverBorderColor: '#fff'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            animation: {
                                duration: isMobileDevice ? 500 : 1000
                            },
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: {
                                        boxWidth: isMobileDevice ? 10 : 12,
                                        padding: isMobileDevice ? 8 : 15,
                                        font: {
                                            size: isMobileDevice ? 10 : 12,
                                            family: 'Inter, sans-serif'
                                        },
                                        generateLabels: function(chart) {
                                            const data = chart.data;
                                            if (data.labels.length && data.datasets.length) {
                                                const dataset = data.datasets[0];
                                                return data.labels.map((label, i) => {
                                                    const value = dataset.data[i];
                                                    return {
                                                        text: isMobileDevice ? `${label} (${value}%)` : `${label}: ${value}%`,
                                                        fillStyle: dataset.backgroundColor[i],
                                                        hidden: false,
                                                        index: i
                                                    };
                                                });
                                            }
                                            return [];
                                        }
                                    },
                                    onClick: isTouchDevice ? function(e, legendItem, legend) {
                                        // Enhanced touch interaction
                                        const index = legendItem.index;
                                        const chart = legend.chart;
                                        const meta = chart.getDatasetMeta(0);
                                        meta.data[index].hidden = !meta.data[index].hidden;
                                        chart.update();
                                    } : undefined
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                    titleColor: 'white',
                                    bodyColor: 'white',
                                    borderColor: 'rgba(59, 130, 246, 1)',
                                    borderWidth: 1,
                                    cornerRadius: 8,
                                    titleFont: { size: isMobileDevice ? 12 : 14, family: 'Inter' },
                                    bodyFont: { size: isMobileDevice ? 11 : 12, family: 'Inter' },
                                    padding: isMobileDevice ? 8 : 12,
                                    callbacks: {
                                        label: function(context) {
                                            const fullLabels = ['Roman', 'Bilim Kurgu', 'Kişisel Gelişim', 'Çocuk Kitapları', 'Tarih', 'Diğer'];
                                            return `${fullLabels[context.dataIndex]}: %${context.parsed}`;
                                        }
                                    }
                                }
                            },
                            cutout: isMobileDevice ? '60%' : '65%',
                            elements: {
                                arc: {
                                    borderWidth: 0,
                                    hoverBorderWidth: isTouchDevice ? 4 : 2
                                }
                            }
                        }
                    });
                }
            }

            // Action Button Interactions
            document.addEventListener('click', function(e) {
                if (e.target.closest('.action-btn')) {
                    e.preventDefault();
                    const btn = e.target.closest('.action-btn');
                    
                    // Add loading effect
                    const originalContent = btn.innerHTML;
                    btn.innerHTML = '<div class="loading"></div>';
                    btn.disabled = true;
                    
                    // Simulate API call
                    setTimeout(() => {
                        btn.innerHTML = originalContent;
                        btn.disabled = false;
                        
                        // Show success toast
                        showToast('İşlem başarıyla tamamlandı!', 'success');
                    }, 1000);
                }
            });

            // Toast Notification Function
            function showToast(message, type = 'success') {
                const toast = document.getElementById('successToast');
                const toastBody = toast.querySelector('.toast-body');
                toastBody.textContent = message;
                
                const bsToast = new bootstrap.Toast(toast);
                bsToast.show();
            }

            // 3D Chart Implementation with ThreeJS
            function init3DChart() {
                // Load ThreeJS dynamically
                if (typeof THREE === 'undefined') {
                    const threeScript = document.createElement('script');
                    threeScript.src = 'https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js';
                    threeScript.onload = function() {
                        create3DChart();
                    };
                    document.head.appendChild(threeScript);
                } else {
                    create3DChart();
                }
            }

            let scene3D, camera3D, renderer3D, chartBars = [], animationId;
            let isRotating = false;

            function create3DChart() {
                const canvas = document.getElementById('3dSalesChart');
                if (!canvas) return;

                // Scene setup
                scene3D = new THREE.Scene();
                scene3D.background = new THREE.Color(0xf8fafc);
                
                camera3D = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
                renderer3D = new THREE.WebGLRenderer({canvas, antialias: true, alpha: true});
                renderer3D.setSize(canvas.clientWidth, canvas.clientHeight);
                renderer3D.shadowMap.enabled = true;
                renderer3D.shadowMap.type = THREE.PCFSoftShadowMap;

                // Sales data
                const salesData = [
                    {month: 'Nisan', sales: 65400, color: 0x3b82f6, height: 0},
                    {month: 'Mayıs', sales: 78200, color: 0x10b981, height: 0},
                    {month: 'Haziran', sales: 85600, color: 0xf59e0b, height: 0},
                    {month: 'Temmuz', sales: 92300, color: 0xef4444, height: 0},
                    {month: 'Ağustos', sales: 108400, color: 0x8b5cf6, height: 0},
                    {month: 'Eylül', sales: 124580, color: 0x06b6d4, height: 0}
                ];

                // Create 3D bars
                const maxSales = Math.max(...salesData.map(d => d.sales));
                const barWidth = 1;
                const barDepth = 1;
                const spacing = 2;
                const maxHeight = 8;

                salesData.forEach((data, index) => {
                    const height = (data.sales / maxSales) * maxHeight;
                    data.height = height;
                    
                    // Bar geometry
                    const barGeometry = new THREE.BoxGeometry(barWidth, height, barDepth);
                    const barMaterial = new THREE.MeshPhongMaterial({
                        color: data.color,
                        transparent: true,
                        opacity: 0.9
                    });
                    
                    const bar = new THREE.Mesh(barGeometry, barMaterial);
                    bar.position.set(
                        (index - salesData.length / 2) * spacing,
                        height / 2,
                        0
                    );
                    bar.castShadow = true;
                    bar.receiveShadow = true;
                    bar.userData = data;
                    
                    scene3D.add(bar);
                    chartBars.push(bar);

                    // Label
                    const canvas2d = document.createElement('canvas');
                    canvas2d.width = 256;
                    canvas2d.height = 128;
                    const ctx = canvas2d.getContext('2d');
                    
                    ctx.fillStyle = '#1e293b';
                    ctx.font = 'bold 20px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(data.month, 128, 40);
                    ctx.fillText(`₺${(data.sales/1000).toFixed(0)}K`, 128, 80);
                    
                    const texture = new THREE.CanvasTexture(canvas2d);
                    const labelMaterial = new THREE.SpriteMaterial({map: texture});
                    const label = new THREE.Sprite(labelMaterial);
                    label.position.set(bar.position.x, height + 1, bar.position.z);
                    label.scale.set(1.8, 0.9, 1);
                    scene3D.add(label);
                });

                // Grid and axes
                const gridHelper = new THREE.GridHelper(15, 15, 0x888888, 0xcccccc);
                gridHelper.position.y = -0.1;
                scene3D.add(gridHelper);

                // Lighting
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
                scene3D.add(ambientLight);
                
                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                directionalLight.position.set(10, 10, 5);
                directionalLight.castShadow = true;
                scene3D.add(directionalLight);

                // Camera position
                camera3D.position.set(8, 6, 8);
                camera3D.lookAt(0, 2, 0);

                // Animation
                function animate() {
                    animationId = requestAnimationFrame(animate);
                    
                    if (isRotating) {
                        scene3D.rotation.y += 0.005;
                    }
                    
                    renderer3D.render(scene3D, camera3D);
                }
                
                // Mouse interaction
                const raycaster = new THREE.Raycaster();
                const mouse = new THREE.Vector2();
                
                canvas.addEventListener('mousemove', onMouseMove);
                canvas.addEventListener('click', onMouseClick);
                
                function onMouseMove(event) {
                    const rect = canvas.getBoundingClientRect();
                    mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
                    mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;
                    
                    raycaster.setFromCamera(mouse, camera3D);
                    const intersects = raycaster.intersectObjects(chartBars);
                    
                    // Reset all bars
                    chartBars.forEach(bar => {
                        bar.scale.setScalar(1);
                    });
                    
                    if (intersects.length > 0) {
                        const bar = intersects[0].object;
                        bar.scale.setScalar(1.1);
                        canvas.style.cursor = 'pointer';
                        
                        // Show tooltip
                        const tooltip = document.getElementById('3dChartTooltip');
                        tooltip.style.left = event.clientX - rect.left + 10 + 'px';
                        tooltip.style.top = event.clientY - rect.top - 30 + 'px';
                        tooltip.innerHTML = `<strong>${bar.userData.month}</strong><br>Satış: ₺${bar.userData.sales.toLocaleString('tr-TR')}`;
                        tooltip.style.opacity = 1;
                    } else {
                        canvas.style.cursor = 'default';
                        document.getElementById('3dChartTooltip').style.opacity = 0;
                    }
                }
                
                function onMouseClick(event) {
                    raycaster.setFromCamera(mouse, camera3D);
                    const intersects = raycaster.intersectObjects(chartBars);
                    
                    if (intersects.length > 0) {
                        const bar = intersects[0].object;
                        showToast(`${bar.userData.month} detayları görüntüleniyor...`, 'info');
                    }
                }
                
                animate();
            }

            // 3D Chart controls
            window.toggle3DView = function() {
                const toggleBtn = document.querySelector('.toggle-3d');
                if (camera3D) {
                    if (toggleBtn.textContent.includes('2D')) {
                        camera3D.position.set(0, 15, 0.1);
                        camera3D.lookAt(0, 0, 0);
                        toggleBtn.innerHTML = '<i class="fas fa-cube me-1"></i>3D Görünüm';
                        showToast('2D görünüm aktif', 'success');
                    } else {
                        camera3D.position.set(8, 6, 8);
                        camera3D.lookAt(0, 2, 0);
                        toggleBtn.innerHTML = '<i class="fas fa-eye me-1"></i>2D Görünüm';
                        showToast('3D görünüm aktif', 'success');
                    }
                }
            };

            window.rotate3DChart = function() {
                isRotating = !isRotating;
                const rotateBtn = document.querySelector('button[onclick="rotate3DChart()"]');
                if (isRotating) {
                    rotateBtn.innerHTML = '<i class="fas fa-pause me-1"></i>Durdur';
                    rotateBtn.classList.remove('btn-outline-success');
                    rotateBtn.classList.add('btn-success');
                    showToast('Otomatik döndürme aktif', 'info');
                } else {
                    rotateBtn.innerHTML = '<i class="fas fa-sync-alt me-1"></i>Döndür';
                    rotateBtn.classList.remove('btn-success');
                    rotateBtn.classList.add('btn-outline-success');
                    showToast('Otomatik döndürme pasif', 'info');
                }
            };

            // PWA Service Worker Registration
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/service-worker.js')
                        .then((registration) => {
                            console.log('İsmail Kitap Admin PWA: Service Worker registered successfully');
                            showToast('Uygulama çevrimdışı kullanıma hazır!', 'success');
                            
                            // Check for updates
                            registration.addEventListener('updatefound', () => {
                                const newWorker = registration.installing;
                                newWorker.addEventListener('statechange', () => {
                                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                        showToast('Yeni güncelleme mevcut! Sayfayı yenileyin.', 'info');
                                    }
                                });
                            });
                        })
                        .catch((error) => {
                            console.error('İsmail Kitap Admin PWA: Service Worker registration failed:', error);
                        });
                });
            }

            // PWA Install Prompt
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                
                // Show install button in quick actions
                const installBtn = document.createElement('a');
                installBtn.href = '#';
                installBtn.className = 'quick-action-item';
                installBtn.onclick = installPWA;
                installBtn.innerHTML = '<i class="fas fa-mobile-alt"></i> Uygulamayı Yükle';
                
                const quickActionMenu = document.querySelector('.quick-action-menu');
                if (quickActionMenu) {
                    quickActionMenu.appendChild(installBtn);
                }
                
                showToast('Bu uygulamayı cihazınıza yükleyebilirsiniz!', 'info');
            });

            // PWA Install Function
            window.installPWA = async function() {
                if (!deferredPrompt) return;
                
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    showToast('Uygulama başarıyla yüklendi!', 'success');
                } else {
                    showToast('Uygulama yükleme iptal edildi', 'info');
                }
                
                deferredPrompt = null;
            };

            // PWA Installed Event
            window.addEventListener('appinstalled', (evt) => {
                showToast('İsmail Kitap Admin başarıyla yüklendi!', 'success');
                console.log('İsmail Kitap Admin PWA: App installed successfully');
            });

            // Online/Offline Status
            function updateOnlineStatus() {
                const status = navigator.onLine ? 'online' : 'offline';
                const statusClass = navigator.onLine ? 'success' : 'warning';
                const statusText = navigator.onLine ? 'Çevrimiçi' : 'Çevrimdışı';
                
                showToast(`Bağlantı durumu: ${statusText}`, statusClass);
                
                // Add visual indicator
                const navbar = document.querySelector('.top-navbar');
                if (navbar) {
                    navbar.style.borderBottom = navigator.onLine ? '3px solid #10b981' : '3px solid #f59e0b';
                }
            }

            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);

            // GSAP Advanced Animations
            function initGSAPAnimations() {
                // Load GSAP dynamically
                if (typeof gsap === 'undefined') {
                    const gsapScript = document.createElement('script');
                    gsapScript.src = 'https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js';
                    gsapScript.onload = function() {
                        setupAnimations();
                    };
                    document.head.appendChild(gsapScript);
                } else {
                    setupAnimations();
                }
            }

            function setupAnimations() {
                // Page load animation
                gsap.fromTo('.sidebar', 
                    { x: -280, opacity: 0 },
                    { x: 0, opacity: 1, duration: 0.8, ease: 'power2.out' }
                );

                gsap.fromTo('.main-content', 
                    { x: 50, opacity: 0 },
                    { x: 0, opacity: 1, duration: 0.8, delay: 0.2, ease: 'power2.out' }
                );

                // Stat cards animation on load
                gsap.fromTo('.stat-card', 
                    { y: 30, opacity: 0, scale: 0.9 },
                    { 
                        y: 0, 
                        opacity: 1, 
                        scale: 1, 
                        duration: 0.6, 
                        stagger: 0.1, 
                        delay: 0.4,
                        ease: 'back.out(1.7)'
                    }
                );

                // Chart containers animation
                gsap.fromTo('.chart-container', 
                    { y: 40, opacity: 0 },
                    { 
                        y: 0, 
                        opacity: 1, 
                        duration: 0.7, 
                        stagger: 0.15, 
                        delay: 0.6,
                        ease: 'power2.out'
                    }
                );

                // Enhanced card hover animations
                const cards = document.querySelectorAll('.stat-card, .chart-container, .data-table-container');
                cards.forEach(card => {
                    const tl = gsap.timeline({ paused: true });
                    
                    tl.to(card, { 
                        y: -8, 
                        scale: 1.02,
                        boxShadow: '0 20px 40px rgba(0,0,0,0.12)',
                        duration: 0.3,
                        ease: 'power2.out'
                    });
                    
                    card.addEventListener('mouseenter', () => tl.play());
                    card.addEventListener('mouseleave', () => tl.reverse());
                });

                // Button ripple effect
                const buttons = document.querySelectorAll('.btn');
                buttons.forEach(button => {
                    button.addEventListener('click', function(e) {
                        const rect = this.getBoundingClientRect();
                        const size = Math.max(rect.width, rect.height);
                        const x = e.clientX - rect.left - size / 2;
                        const y = e.clientY - rect.top - size / 2;
                        
                        const ripple = document.createElement('span');
                        ripple.style.cssText = `
                            position: absolute;
                            width: ${size}px;
                            height: ${size}px;
                            left: ${x}px;
                            top: ${y}px;
                            background: rgba(255, 255, 255, 0.4);
                            border-radius: 50%;
                            transform: scale(0);
                            pointer-events: none;
                            z-index: 1;
                        `;
                        
                        this.style.position = 'relative';
                        this.style.overflow = 'hidden';
                        this.appendChild(ripple);
                        
                        gsap.to(ripple, {
                            scale: 2,
                            opacity: 0,
                            duration: 0.6,
                            ease: 'power2.out',
                            onComplete: () => ripple.remove()
                        });
                    });
                });

                // Sidebar nav animations
                const navLinks = document.querySelectorAll('.sidebar .nav-link');
                navLinks.forEach(link => {
                    const icon = link.querySelector('i');
                    const text = link.querySelector('span');
                    
                    link.addEventListener('mouseenter', () => {
                        gsap.to(icon, { 
                            rotation: 360, 
                            duration: 0.5, 
                            ease: 'back.out(1.7)' 
                        });
                        gsap.to(text, { 
                            x: 5, 
                            duration: 0.3, 
                            ease: 'power2.out' 
                        });
                    });
                    
                    link.addEventListener('mouseleave', () => {
                        gsap.to(icon, { 
                            rotation: 0, 
                            duration: 0.3 
                        });
                        gsap.to(text, { 
                            x: 0, 
                            duration: 0.3 
                        });
                    });
                });

                // Loading animation for data tables
                function addLoadingAnimation(element) {
                    const loader = document.createElement('div');
                    loader.className = 'loading-overlay';
                    loader.innerHTML = `
                        <div class="loading-spinner">
                            <div class="spinner-ring"></div>
                            <div class="loading-text">Yükleniyor...</div>
                        </div>
                    `;
                    
                    element.style.position = 'relative';
                    element.appendChild(loader);
                    
                    // Animate loader
                    gsap.fromTo(loader, 
                        { opacity: 0 },
                        { opacity: 1, duration: 0.3 }
                    );
                    
                    // Rotate spinner
                    gsap.to(loader.querySelector('.spinner-ring'), {
                        rotation: 360,
                        duration: 1,
                        repeat: -1,
                        ease: 'none'
                    });
                    
                    // Auto remove after 2 seconds
                    setTimeout(() => {
                        gsap.to(loader, {
                            opacity: 0,
                            duration: 0.3,
                            onComplete: () => loader.remove()
                        });
                    }, 2000);
                }

                // Enhanced page transitions
                window.loadPageAnimated = function(pageId) {
                    const currentPage = document.querySelector('.page-content[style*="block"]');
                    const targetPage = document.getElementById(pageId + '-content');
                    
                    if (!targetPage || currentPage === targetPage) return;
                    
                    // Slide out current page
                    gsap.to(currentPage, {
                        x: -50,
                        opacity: 0,
                        duration: 0.4,
                        ease: 'power2.in',
                        onComplete: () => {
                            currentPage.style.display = 'none';
                            currentPage.style.transform = 'translateX(0)';
                            currentPage.style.opacity = '1';
                            
                            // Slide in new page
                            targetPage.style.display = 'block';
                            gsap.fromTo(targetPage,
                                { x: 50, opacity: 0 },
                                { 
                                    x: 0, 
                                    opacity: 1, 
                                    duration: 0.4, 
                                    ease: 'power2.out',
                                    onComplete: () => {
                                        // Animate new page content
                                        const cards = targetPage.querySelectorAll('.stat-card, .chart-container, .data-table-container');
                                        gsap.fromTo(cards, 
                                            { y: 20, opacity: 0 },
                                            { 
                                                y: 0, 
                                                opacity: 1, 
                                                duration: 0.5, 
                                                stagger: 0.1,
                                                ease: 'back.out(1.7)'
                                            }
                                        );
                                    }
                                }
                            );
                        }
                    });
                };

                // Numbers counter animation
                function animateNumbers() {
                    const numbers = document.querySelectorAll('.stat-card h3');
                    numbers.forEach(number => {
                        const finalValue = parseFloat(number.textContent.replace(/[^0-9.,]/g, '').replace(',', ''));
                        if (!isNaN(finalValue)) {
                            const obj = { value: 0 };
                            const isCurrency = number.textContent.includes('₺');
                            
                            gsap.to(obj, {
                                value: finalValue,
                                duration: 2,
                                delay: Math.random() * 0.5,
                                ease: 'power2.out',
                                onUpdate: () => {
                                    const current = Math.round(obj.value);
                                    number.textContent = isCurrency ? 
                                        `₺${current.toLocaleString('tr-TR')}` : 
                                        current.toLocaleString('tr-TR');
                                }
                            });
                        }
                    });
                }

                // Floating elements animation
                function floatingAnimation() {
                    const floatingElements = document.querySelectorAll('.theme-toggle, .quick-action-btn');
                    floatingElements.forEach(el => {
                        gsap.to(el, {
                            y: '+=5',
                            duration: 2,
                            repeat: -1,
                            yoyo: true,
                            ease: 'sine.inOut'
                        });
                    });
                }

                // Initialize all animations
                setTimeout(() => {
                    animateNumbers();
                    floatingAnimation();
                }, 1000);

                // Override existing loadPage function
                window.loadPage = window.loadPageAnimated;

                console.log('GSAP animations initialized successfully');
            }

            // Add loading animation CSS
            const loadingCSS = document.createElement('style');
            loadingCSS.textContent = `
                .loading-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(255, 255, 255, 0.95);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10;
                    border-radius: inherit;
                }
                
                body.dark-theme .loading-overlay {
                    background: rgba(30, 41, 59, 0.95);
                }
                
                .loading-spinner {
                    text-align: center;
                }
                
                .spinner-ring {
                    width: 40px;
                    height: 40px;
                    border: 3px solid #e2e8f0;
                    border-top: 3px solid #3b82f6;
                    border-radius: 50%;
                    margin: 0 auto 10px;
                }
                
                .loading-text {
                    font-size: 14px;
                    color: #64748b;
                    font-weight: 500;
                }
                
                body.dark-theme .loading-text {
                    color: #94a3b8;
                }
                
                body.dark-theme .spinner-ring {
                    border-color: #475569;
                    border-top-color: #3b82f6;
                }
            `;
            document.head.appendChild(loadingCSS);

            // Initialize dashboard on load
            setTimeout(() => {
                initDashboardCharts();
                init3DChart();
                initGSAPAnimations();
            }, 100);

            // Real-time Clock in Navbar (Optional Enhancement)
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('tr-TR');
                const dateString = now.toLocaleDateString('tr-TR', { 
                    day: 'numeric', 
                    month: 'long', 
                    year: 'numeric' 
                });
                
                // You can add a time display element if needed
                // document.getElementById('current-time').textContent = `${dateString} - ${timeString}`;
            }
            
            // Update time every second
            setInterval(updateTime, 1000);
            updateTime();

            // Search functionality simulation
            const searchInput = document.querySelector('.search-input');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const query = this.value;
                    if (query.length > 2) {
                        // Simulate search results
                        console.log('Aranıyor:', query);
                    }
                });
            }

            // Theme Toggle Functionality
            window.toggleTheme = function() {
                const body = document.body;
                const themeButton = document.querySelector('.theme-toggle i');
                
                if (body.classList.contains('dark-theme')) {
                    body.classList.remove('dark-theme');
                    themeButton.className = 'fas fa-moon';
                    localStorage.setItem('theme', 'light');
                    showToast('Açık tema aktif edildi', 'success');
                } else {
                    body.classList.add('dark-theme');
                    themeButton.className = 'fas fa-sun';
                    localStorage.setItem('theme', 'dark');
                    showToast('Koyu tema aktif edildi', 'success');
                }
            };
            
            // Check saved theme on page load
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                const themeBtn = document.querySelector('.theme-toggle i');
                if (themeBtn) themeBtn.className = 'fas fa-sun';
            }

            // Quick Actions Functionality
            window.toggleQuickActions = function() {
                const quickActions = document.getElementById('quickActions');
                quickActions.classList.toggle('active');
            };

            // Handle Quick Action clicks
            window.handleQuickAction = function(action) {
                const quickActions = document.getElementById('quickActions');
                quickActions.classList.remove('active');
                
                switch(action) {
                    case 'new-book':
                        showToast('Yeni kitap ekleme sayfası açılıyor...', 'info');
                        setTimeout(() => loadPage('books'), 500);
                        break;
                    case 'new-order':
                        showToast('Yeni sipariş oluşturma sayfası açılıyor...', 'info');
                        setTimeout(() => loadPage('orders'), 500);
                        break;
                    case 'new-customer':
                        showToast('Yeni müşteri ekleme sayfası açılıyor...', 'info');
                        setTimeout(() => loadPage('users'), 500);
                        break;
                    case 'bulk-import':
                        showToast('Toplu içe aktarma işlemi başlatılıyor...', 'info');
                        break;
                    case 'report':
                        showToast('Hızlı rapor oluşturuluyor...', 'info');
                        setTimeout(() => loadPage('reports'), 500);
                        break;
                    case 'backup':
                        showToast('Sistem yedeği oluşturuluyor...', 'warning');
                        break;
                }
            };

            // Filter Panel Functionality
            window.toggleFilterPanel = function() {
                const filterBody = document.getElementById('filterBody');
                const toggleBtn = document.querySelector('.filter-toggle');
                
                if (filterBody.classList.contains('hidden')) {
                    filterBody.classList.remove('hidden');
                    toggleBtn.innerHTML = '<i class="fas fa-chevron-up"></i> Gizle';
                } else {
                    filterBody.classList.add('hidden');
                    toggleBtn.innerHTML = '<i class="fas fa-chevron-down"></i> Göster';
                }
            };

            // Filter Functions
            window.resetFilters = function() {
                document.querySelectorAll('.filter-body input, .filter-body select').forEach(el => {
                    if (el.type === 'number') {
                        el.value = el.placeholder.includes('Min') ? '0' : '1000';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    } else {
                        el.value = '';
                    }
                });
                showToast('Filtreler sıfırlandı', 'info');
            };

            window.applyFilters = function() {
                showToast('Filtreler uygulandı - 247 sonuç bulundu', 'success');
                
                const tables = document.querySelectorAll('.data-table tbody');
                tables.forEach(table => {
                    table.style.opacity = '0.5';
                    setTimeout(() => {
                        table.style.opacity = '1';
                    }, 1000);
                });
            };

            window.exportFilteredData = function() {
                showToast('Filtrelenmiş veriler Excel dosyası olarak indiriliyor...', 'info');
                setTimeout(() => {
                    showToast('İndirme tamamlandı: ismail_kitap_raporu.xlsx', 'success');
                }, 2000);
            };

            // Enhanced Toast Function
            function showToast(message, type = 'success') {
                const toastContainer = document.querySelector('.toast-container');
                
                const toastId = 'toast_' + Date.now();
                const toastHtml = `
                    <div id="${toastId}" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="toast-header">
                            <strong class="me-auto text-${type}">
                                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : type === 'danger' ? 'times-circle' : 'info-circle'} me-1"></i>
                                ${type === 'success' ? 'Başarılı' : type === 'warning' ? 'Uyarı' : type === 'danger' ? 'Hata' : 'Bilgi'}
                            </strong>
                            <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                        </div>
                        <div class="toast-body">
                            ${message}
                        </div>
                    </div>
                `;
                
                toastContainer.insertAdjacentHTML('beforeend', toastHtml);
                const newToast = document.getElementById(toastId);
                const toast = new bootstrap.Toast(newToast, { delay: 4000 });
                toast.show();
                
                newToast.addEventListener('hidden.bs.toast', function() {
                    newToast.remove();
                });
            }

            // DataTables Mobile Responsive Initialization
            function initMobileDataTables() {
                $('.data-table').each(function() {
                    if (!$.fn.DataTable.isDataTable(this)) {
                        $(this).DataTable({
                            responsive: {
                                details: {
                                    type: 'column',
                                    target: 'tr'
                                }
                            },
                            columnDefs: [{
                                className: 'control',
                                orderable: false,
                                targets: 0
                            }],
                            order: [1, 'asc'],
                            pageLength: isMobileDevice ? 5 : 10,
                            lengthMenu: isMobileDevice ? [[5, 10, 25], [5, 10, 25]] : [[10, 25, 50, 100], [10, 25, 50, 100]],
                            language: {
                                url: '//cdn.datatables.net/plug-ins/1.13.7/i18n/tr.json',
                                searchPlaceholder: 'Ara...',
                                lengthMenu: isMobileDevice ? '_MENU_ kayıt' : 'Sayfa başına _MENU_ kayıt göster',
                                info: isMobileDevice ? '_START_-_END_ / _TOTAL_' : '_TOTAL_ kayıttan _START_ - _END_ arası gösteriliyor',
                                infoEmpty: 'Kayıt bulunamadı',
                                infoFiltered: '(toplam _MAX_ kayıt içinden filtrelendi)',
                                paginate: {
                                    first: '‹‹',
                                    last: '››',
                                    next: '›',
                                    previous: '‹'
                                }
                            },
                            dom: isMobileDevice ? 
                                '<"top"f>rt<"bottom"lip><"clear">' : 
                                '<"row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>rt<"row"<"col-sm-12 col-md-5"i><"col-sm-12 col-md-7"p>>',
                            scrollX: true,
                            scrollCollapse: true,
                            autoWidth: false,
                            processing: true,
                            stateSave: true,
                            drawCallback: function() {
                                // Mobile-specific styling after draw
                                if (isMobileDevice) {
                                    $(this).closest('.dataTables_wrapper').find('.dataTables_paginate .paginate_button').css({
                                        'padding': '8px 12px',
                                        'margin': '0 2px',
                                        'min-width': '44px',
                                        'text-align': 'center'
                                    });
                                    
                                    $(this).closest('.dataTables_wrapper').find('.dataTables_filter input').css({
                                        'width': '100%',
                                        'padding': '10px',
                                        'font-size': '16px'
                                    });
                                }
                            }
                        });
                    }
                });
            }

            // Initialize DataTables when jQuery is ready
            $(document).ready(function() {
                // Wait for all content to load
                setTimeout(initMobileDataTables, 100);
                
                // Reinitialize when switching pages
                const originalLoadPage = window.loadPage;
                if (originalLoadPage) {
                    window.loadPage = function(page) {
                        originalLoadPage.call(this, page);
                        setTimeout(initMobileDataTables, 200);
                    };
                }
            });

            // SortableJS Integration
            const sortableScript = document.createElement('script');
            sortableScript.src = 'https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js';
            sortableScript.onload = function() {
                const statsSortable = document.getElementById('sortableStats');
                if (statsSortable) {
                    new Sortable(statsSortable, {
                        animation: 200,
                        handle: '.card-header',
                        ghostClass: 'sortable-ghost',
                        onEnd: function(evt) {
                            showToast('Widget sırası güncellendi', 'success');
                        }
                    });
                }
            };
            document.head.appendChild(sortableScript);

            // Click outside to close quick actions
            document.addEventListener('click', function(e) {
                const quickActions = document.getElementById('quickActions');
                if (quickActions && !quickActions.contains(e.target)) {
                    quickActions.classList.remove('active');
                }
            });

            // Smooth animations for sidebar
            const style = document.createElement('style');
            style.textContent = `
                .sidebar .nav-link {
                    transform: translateX(0);
                    transition: transform 0.2s ease, background-color 0.2s ease;
                }
                .sidebar .nav-link:hover {
                    transform: translateX(5px);
                }
            `;
            document.head.appendChild(style);
        });
    </script>
    
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Quick Actions Floating Button -->
    <div class="quick-actions" id="quickActions">
        <button class="quick-action-btn" onclick="toggleQuickActions()">
            <i class="fas fa-bolt"></i>
        </button>
        <div class="quick-action-menu">
            <a href="#" class="quick-action-item" onclick="handleQuickAction('new-book')">
                <i class="fas fa-book"></i> Yeni Kitap Ekle
            </a>
            <a href="#" class="quick-action-item" onclick="handleQuickAction('new-order')">
                <i class="fas fa-shopping-cart"></i> Yeni Sipariş
            </a>
            <a href="#" class="quick-action-item" onclick="handleQuickAction('new-customer')">
                <i class="fas fa-user-plus"></i> Yeni Müşteri
            </a>
            <a href="#" class="quick-action-item" onclick="handleQuickAction('bulk-import')">
                <i class="fas fa-upload"></i> Toplu İçe Aktarma
            </a>
            <a href="#" class="quick-action-item" onclick="handleQuickAction('report')">
                <i class="fas fa-chart-bar"></i> Hızlı Rapor
            </a>
            <a href="#" class="quick-action-item" onclick="handleQuickAction('backup')">
                <i class="fas fa-cloud-download-alt"></i> Yedekleme
            </a>
        </div>
    </div>
</body>
</html>